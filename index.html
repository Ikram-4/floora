<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>FloraCast</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">FloraCast</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="flowersByMonthDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Flowers by Month
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="flowersByMonthDropdown">
                            <li><a class="dropdown-item" href="#">January: Roses and Lilies</a></li>
                            <li><a class="dropdown-item" href="#">February: Roses and Marigolds</a></li>
                            <li><a class="dropdown-item" href="#">March: Jasmine and Marigolds</a></li>
                            <li><a class="dropdown-item" href="#">April: Bulk flowers for celebrations</a></li>
                            <li><a class="dropdown-item" href="#">May: Bouquets of Roses and Lilies</a></li>
                            <li><a class="dropdown-item" href="#">June: Marigolds and Sunflowers</a></li>
                            <li><a class="dropdown-item" href="#">July: Sunflowers and Tropical Flowers</a></li>
                            <li><a class="dropdown-item" href="#">August: Elegant, classic blooms like Lilies</a></li>
                            <li><a class="dropdown-item" href="#">September: Vibrant flowers like Daisies and Sunflowers</a></li>
                            <li><a class="dropdown-item" href="#">October: Marigolds and Chrysanthemums</a></li>
                            <li><a class="dropdown-item" href="#">November: Seasonal bouquets</a></li>
                            <li><a class="dropdown-item" href="#">December: Poinsettias and Holly</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#graphs">Graphs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1 class="text-center text-primary">Graphs and Profit Maximization Tips</h1>
        <p class="text-center">Analyze sales trends and learn how to optimize profits based on flower demand!</p>

        <!-- Season Selector (Initially disabled) -->
        <div class="row my-4" id="seasonSelectorContainer">
            <div class="col-md-6 offset-md-3 text-center">
                <label for="seasonSelector" class="form-label">Select Season:</label>
                <select id="seasonSelector" class="form-select" disabled>
                    <option value="Spring">Spring</option>
                    <option value="Summer">Summer</option>
                    <option value="Fall">Fall</option>
                    <option value="Winter">Winter</option>
                </select>
            </div>
        </div>

   

        <!-- Graphs Section -->
        <div class="row my-4" id="graphs">
            <div class="col-lg-6">
                <h4 class="text-center">Flower Sales by Type</h4>
                <canvas id="flowerSalesChart"></canvas>
            </div>
            <div class="col-lg-6">
                <h4 class="text-center">Consumers by Segment</h4>
                <canvas id="consumerSegmentChart"></canvas>
            </div>
        </div>
     <!-- Season Description Section -->
         <!-- Updated Season Description Section -->
         <div id="seasonDescription" class="mt-3 text-center">
            <p>Select a season to see the flower's use by season and festival.</p>
        </div>
        
        <!-- New Section: Indian Festival Essence -->
        <div id="festivalEssence" class="mt-3 text-center">
            <p>Select a season to learn about the essence of flowers in Indian festivals.</p>
        </div>
        <!-- New Section: Indian Festival Essence -->
        <div id="festivalEssence" class="mt-5">
            <h3 class="text-center text-primary">Essence of Flowers in Indian Festivals</h3>
            <div class="text-center">
                <p>Select a season to learn about the cultural significance of flowers in Indian festivals, complete with visuals.</p>
            </div>
            <div id="festivalDetails" class="text-center">
                <!-- Dynamic content will be injected here -->
            </div>
        </div>
        
                
        <!-- Profit Calculation Section -->
        <div class="row my-4">
            <div class="col-md-6 offset-md-3">
                <h4 class="text-center">Calculate Your Profit</h4>
                <div class="row my-4">
                    <div class="col-md-6 offset-md-3 text-center">
                        <label for="flowerSelector" class="form-label">Select Flower:</label>
                        <select id="flowerSelector" class="form-select" disabled>
                            <!-- Flower options will be populated dynamically based on season -->
                        </select>
                    </div>
                </div>
                <form id="profitForm">
                    <div class="mb-3">
                        <label for="buyingPrice" class="form-label">Enter Buying Price (per flower):</label>
                        <input type="number" class="form-control" id="buyingPrice" placeholder="Enter price per flower">
                    </div>
                    <div class="mb-3">
                        <label for="flowersToBuy" class="form-label">Enter Number of Flowers:</label>
                        <input type="number" class="form-control" id="flowersToBuy" placeholder="Enter number of flowers">
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Calculate Profit</button>
                </form>

                <div id="profitResult" class="mt-3 text-center">
                    <p id="profitMessage"></p>
                </div>
            </div>
        </div>
    </div>

    <footer class="text-center py-3 bg-primary text-white">
        Â© 2024 FloraCast - All Rights Reserved
    </footer>

    <script>
        const flowerSeasons = {
            Spring: ["Roses", "Tulips", "Daisies", "Lilies", "Jasmine"],
            Summer: ["Sunflowers", "Marigolds", "Lavender", "Orchids", "Dahlias"],
            Fall: ["Chrysanthemums", "Pumpkin Flowers", "Asters", "Marigolds", "Zinnias"],
            Winter: ["Poinsettias", "Holly", "Ivy", "Amaryllis", "Cineraria"]
        };

        const seasonData = {
            Spring: {
                flowerSales: [500, 600, 450, 400, 350],
                consumerSegments: [30, 40, 15, 10, 5],
                description: "Spring season offers fresh blooms like roses and tulips, best for weddings and celebrations."
            },
            Summer: {
                flowerSales: [800, 750, 600, 550, 500],
                consumerSegments: [35, 45, 10, 5, 5],
                description: "Summer is the season for sunflowers and tropical flowers, ideal for events and outdoor occasions."
            },
            Fall: {
                flowerSales: [650, 700, 500, 550, 450],
                consumerSegments: [40, 40, 10, 5, 5],
                description: "Fall is perfect for chrysanthemums and autumn flowers for harvest festivals and decoration."
            },
            Winter: {
                flowerSales: [450, 400, 350, 300, 250],
                consumerSegments: [50, 30, 10, 5, 5],
                description: "Winter is known for poinsettias and holly, typically used for holiday decorations."
            }
        };

        // Function to calculate the season based on location
        function getSeasonBasedOnLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    const latitude = position.coords.latitude;
                    const season = determineSeason(latitude);
                    updateSeason(season);
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Function to determine the season based on latitude (Northern or Southern Hemisphere)
        function determineSeason(latitude) {
            const month = new Date().getMonth(); // 0-based, 0 = January
            const isNorthernHemisphere = latitude > 0;

            // Using simple logic to define seasons based on latitude
            if (isNorthernHemisphere) {
                if (month >= 2 && month <= 4) return 'Spring';
                if (month >= 5 && month <= 7) return 'Summer';
                if (month >= 8 && month <= 10) return 'Fall';
                return 'Winter';
            } else {
                if (month >= 2 && month <= 4) return 'Fall';
                if (month >= 5 && month <= 7) return 'Winter';
                if (month >= 8 && month <= 10) return 'Spring';
                return 'Summer';
            }
        }

        // Function to update season and UI components
        function updateSeason(season) {
            const seasonDescription = seasonData[season].description;
            document.getElementById("seasonDescription").innerHTML = `<p>${seasonDescription}</p>`;
            
            const flowerOptions = flowerSeasons[season];
            const flowerSelector = document.getElementById("flowerSelector");
            flowerSelector.innerHTML = "";
            flowerOptions.forEach(flower => {
                const option = document.createElement("option");
                option.textContent = flower;
                flowerSelector.appendChild(option);
            });

            const seasonSelector = document.getElementById("seasonSelector");
            seasonSelector.value = season;
            seasonSelector.disabled = false; // Enable the season selector

            // Update the graphs
            updateGraphs(season);
        }

        // Function to update the graphs
        function updateGraphs(season) {
            const flowerSales = seasonData[season].flowerSales;
            const consumerSegments = seasonData[season].consumerSegments;

            // Update Flower Sales by Type chart
            new Chart(document.getElementById('flowerSalesChart'), {
                type: 'bar',
                data: {
                    labels: flowerSeasons[season],
                    datasets: [{
                        label: 'Flower Sales',
                        data: flowerSales,
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });

            // Update Consumers by Segment chart
            new Chart(document.getElementById('consumerSegmentChart'), {
                type: 'pie',
                data: {
                    labels: flowerSeasons[season],
                    datasets: [{
                        label: 'Consumer Segments',
                        data: consumerSegments,
                        backgroundColor: ['#e5ffe1', '	#d8eeff', '	#6497b1', '	#c7bbc9', '	#bdd0c4'],
                        borderColor: ['#e5ffe1', '	#d8eeff', '	#6497b1', '	#c7bbc9', '	#bdd0c4'],
                        borderWidth: 1
                    }]
                }
            });
        }

        // Call the function to get the user's location
        getSeasonBasedOnLocation();
    </script>
    <script>
        // Function to calculate profit
        document.getElementById("profitForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form from reloading the page
    
            const buyingPrice = parseFloat(document.getElementById("buyingPrice").value);
            const flowersToBuy = parseInt(document.getElementById("flowersToBuy").value);
    
            // Validate input
            if (isNaN(buyingPrice) || buyingPrice <= 0 || isNaN(flowersToBuy) || flowersToBuy <= 0) {
                document.getElementById("profitMessage").textContent = "Please enter valid values for buying price and number of flowers.";
                document.getElementById("profitMessage").className = "text-danger";
                return;
            }
    
            const sellingPrice = buyingPrice * 1.5; // Assume a 50% markup for simplicity
            const totalCost = buyingPrice * flowersToBuy;
            const totalRevenue = sellingPrice * flowersToBuy;
            const profit = totalRevenue - totalCost;
    
            // Display profit result
            document.getElementById("profitMessage").textContent = `Selling at $${sellingPrice.toFixed(2)} per flower, your total profit would be $${profit.toFixed(2)}.`;
            document.getElementById("profitMessage").className = "text-success";
        });
    </script>
    <script>
        // Function to calculate profit
        document.getElementById("profitForm").addEventListener("submit", function (event) {
            event.preventDefault();
            const selectedFlower = document.getElementById("flowerSelector").value;
            const buyingPrice = parseFloat(document.getElementById("buyingPrice").value);
            const flowersToBuy = parseInt(document.getElementById("flowersToBuy").value);
    
            if (isNaN(buyingPrice) || isNaN(flowersToBuy)) {
                document.getElementById("profitMessage").textContent = "Please enter valid numeric values.";
                return;
            }
    
            // Sample logic: Assume a 50% markup for demonstration
            const sellingPrice = buyingPrice * 1.5;
            const totalProfit = (sellingPrice - buyingPrice) * flowersToBuy;
    
            document.getElementById("profitMessage").innerHTML = `
                Profit for ${flowersToBuy} ${selectedFlower}(s): 
                <strong>$${totalProfit.toFixed(2)}</strong>
            `;
        });
    
        // Ensure flowerSelector is enabled and populated
        document.getElementById("flowerSelector").disabled = false;
    
        function updateSeason(season) {
            const seasonDescription = seasonData[season].description;
            document.getElementById("seasonDescription").innerHTML = `<p>${seasonDescription}</p>`;
    
            const flowerOptions = flowerSeasons[season];
            const flowerSelector = document.getElementById("flowerSelector");
            flowerSelector.innerHTML = ""; // Clear existing options
            flowerOptions.forEach(flower => {
                const option = document.createElement("option");
                option.textContent = flower;
                flowerSelector.appendChild(option);
            });
    
            document.getElementById("seasonSelector").value = season;
            document.getElementById("seasonSelector").disabled = false; // Enable season selector
            flowerSelector.disabled = false; // Enable flower dropdown
    
            // Update graphs
            updateGraphs(season);
        }
    
       
    </script>
    
    
    <!-- New Section: Month-wise Flower Demand -->
    <div class="row my-4">
        <div class="col-12">
            <h4 class="text-center">Month-wise Flower Demand</h4>
            <canvas id="flowerDemandChart"></canvas>
        </div>
    </div>
    
    <script>
        // Month-wise flower demand data (example data)
        const monthWiseDemand = [120, 130, 150, 170, 200, 210, 180, 160, 140, 220, 250, 250]; // Example demand values for each month (Jan-Dec)
    
        // Update the line graph for month-wise flower demand
        new Chart(document.getElementById('flowerDemandChart'), {
            type: 'line',
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                datasets: [{
                    label: 'Flower Demand',
                    data: monthWiseDemand,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Demand'
                        }
                    }
                }
            }
        });
         // Initialize with the detected season
         getSeasonBasedOnLocation();
    </script>
    
    
</body>
<script src="script.js"></script>
</html>
